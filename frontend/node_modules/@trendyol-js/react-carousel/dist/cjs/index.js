"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("react"),n=(e=t)&&"object"==typeof e&&"default"in e?e.default:e,r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var o="styles-module_carousel-base__3keqD",s="styles-module_item-provider__YgMwz",a="styles-module_item-container__a8zaY",l="styles-module_item-tracker__3bypy",u="styles-module_carousel-arrow__26sRw";i(".styles-module_carousel-base__3keqD {\n\twidth: 100%;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\toutline: none;\n\tposition: relative;\n}\n\n.styles-module_item-provider__YgMwz {\n\toverflow: hidden;\n\twidth: 100%;\n\tcursor: pointer;\n}\n\n.styles-module_item-container__a8zaY img {\n\t-webkit-user-select: none;\n\t        user-select: none;\n\t-webkit-user-drag: none;\n}\n\n.styles-module_item-tracker__3bypy {\n\theight: 100%;\n\tdisplay: flex;\n}\n\n.styles-module_carousel-arrow__26sRw {\n\tz-index: 1;\n}\n");var c,f=function(e){return n.createElement("button",{className:u,onClick:e.onClick,"data-direction":e.direction})};!function(e){e[e.Right=-1]="Right",e[e.Left=1]="Left"}(c||(c={}));var d=function(){function e(e,t){this.arr=e,this.currentIndex=t}return e.prototype.next=function(){var e=this.currentIndex,t=this.arr;return this.currentIndex=e<t.length-1?e+1:0,this.current()},e.prototype.prev=function(){var e=this.currentIndex,t=this.arr;return this.currentIndex=e>0&&e<t.length?e-1:t.length-1,this.current()},e.prototype.current=function(){return this.arr[this.currentIndex]},e}(),h=function(e,t,n){return n*e*t},g=function(e){var t=e.itemCount,n=e.itemsToShow,r=e.infinite,i=e.current,o=e.hideArrows;if(void 0!==o&&o)return{left:!1,right:!1};var s=t>n;return r?{left:s,right:s}:{left:s&&0!==i,right:s&&i+n<t}},m=function(e,t,n){if(!n)return e;for(var r=Array.from(e),i=new d(e,0),o=0;o<t;o++)r.unshift(i.prev());return r};function v(e){return e.nativeEvent instanceof MouseEvent?e.nativeEvent.pageX:e.nativeEvent instanceof TouchEvent?e.nativeEvent.changedTouches[0].pageX:0}function p(e,t,n,r,i){if(n&&n.length<t.length)return m(t,r,i);var o=e.map((function(e){return t.find((function(t){return e.key===t.key}))}));return o.some((function(e){return void 0===e}))?m(t,r,i):o}var w=function(e){var n=t.useState("undefined"==typeof window?0:window.innerWidth),r=n[0],i=n[1];t.useLayoutEffect((function(){var t=function(){var t=r-window.innerWidth;i(window.innerWidth),e(t)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[])},y=function(e){var i=t.useState(200),o=i[0],u=i[1],f=t.useCallback((function(t){if(null!==t){var n=t.getBoundingClientRect().width/e.show;u(n),e.widthCallBack(n)}}),[o]);e.responsive&&w((function(e){u(o-e)}));var d=t.useState({initial:e.transform,start:0,isDown:!1,drag:0,finished:!0,pointers:!0}),h=d[0],g=d[1],m=function(t){t.persist(),g(r(r({},h),{isDown:!0,start:v(t),initial:e.transform,finished:!1}))},p=function(t){if(t.persist(),!h.finished){if(Math.abs(h.drag)<o*e.swipeOn)return e.dragCallback(e.transform),g({initial:e.transform,start:0,isDown:!1,drag:0,finished:!0,pointers:!0});e.slideCallback(h.drag>0?c.Right:c.Left),g(r(r({},h),{drag:0,isDown:!1,finished:!0,pointers:!0}))}},y=function(t){if(t.persist(),h.isDown){var n=v(t);g(r(r({},h),{drag:h.start-n,pointers:Math.abs(h.start-n)<e.triggerClickOn}))}},_=e.swiping?{onTouchCancel:p,onTouchEnd:p,onTouchMove:y,onTouchStart:m,onMouseDown:m,onMouseLeave:p,onMouseUp:p,onMouseMove:y}:{};return n.createElement("div",{ref:f,className:s},n.createElement("div",r({"data-testid":"trackList"},_,{className:l,style:{transform:"translateX("+(e.transform-h.drag)+"px)",transition:"transform "+e.transition+"s ease 0s",width:o*e.items.length}}),e.items.map((function(e,t){return n.createElement("div",{key:t,style:{width:o,pointerEvents:h.pointers?"all":"none"},className:a},e)}))))},_={children:[],show:1,slide:1,transition:.5,swiping:!1,swipeOn:1,responsive:!1,infinite:!0,className:"",useArrowKeys:!1,a11y:{},dynamic:!1,paginationCallback:null,pageCount:0,rightArrow:null,leftArrow:null,autoSwipe:null,navigation:null,triggerClickOn:Number.MIN_SAFE_INTEGER,hideArrows:!1,onLeftArrowClick:function(){return null},onRightArrowClick:function(){return null}},k="styles-module_carousel-navigation__1g_vs";i(".styles-module_carousel-navigation__1g_vs {\n\tdisplay: flex;\n\tposition: absolute;\n\tbottom: 0;\n}\n");var C=function(e){var t=e.items,r=e.current,i=e.onClick,o=e.factory;return n.createElement("div",{className:k},t.map((function(e,t){return n.createElement("div",{onMouseOver:function(){return i(t)},key:t},o(r===t))})))},b="styles-module_sliderBase__swkx1",L="styles-module_slider__o0fqa",E="styles-module_sliding__3T6T6";i(".styles-module_sliderBase__swkx1 {\n\twidth: 100%;\n\tposition: relative;\n}\n\n.styles-module_slider__o0fqa {\n\tdisplay: flex;\n\toverflow-x: auto;\n\tscrollbar-width: none; /* Firefox 64 */\n\t-ms-overflow-style: none; /* Internet Explorer 11 */\n}\n\n.styles-module_slider__o0fqa::-webkit-scrollbar {\n\t/** WebKit */\n\tdisplay: none;\n}\n\n.styles-module_slider__o0fqa > * {\n\tflex: 0 0 auto;\n}\n\n.styles-module_sliding__3T6T6 > * {\n\tpointer-events: none;\n}\n");var R={children:[],className:"",leftIcon:null,rightIcon:null,triggerClickOn:3};exports.Carousel=function(e){var i,s,a,l,u=r(r({},_),e),v=m(u.children,u.navigation?u.children.length-1:u.slide,u.infinite),w=t.useState(v),k=w[0],b=w[1],L=t.useRef(v),E=t.useState(0),R=E[0],S=E[1],x=t.useState({transform:0,transition:0,isSliding:!1}),A=x[0],M=x[1],T=t.useState(0),N=T[0],I=T[1],O=t.useState(g({itemCount:u.children.length,itemsToShow:u.show,infinite:u.infinite,current:N,hideArrows:u.hideArrows})),D=O[0],W=O[1],z=(a=e.children,l=t.useRef(),t.useEffect((function(){l.current=a})),l.current),X=t.useState(0),q=X[0],B=X[1],j=t.useRef(!1),K=t.useRef(null),Y=t.useRef(),P="function"==typeof u.navigation;u.dynamic&&t.useEffect((function(){var e=p(L.current,u.children,z,u.slide,u.infinite);b(e),L.current=e,q<u.pageCount&&z&&(null==z?void 0:z.length)<u.children.length&&(U(c.Right),B(q+1))}),[u.children]),t.useEffect((function(){F()}),[]);var F=function(){clearTimeout(Y.current),K&&"number"==typeof u.autoSwipe&&u.autoSwipe>u.transition&&(Y.current=setTimeout((function(){K.current&&K.current.click()}),u.autoSwipe))},U=function(e,t){if(!(A.isSliding||e===c.Right&&!D.right||e===c.Left&&!D.left)){if(u.paginationCallback&&e===c.Right&&q<u.pageCount-1&&!j.current)return j.current=!0,void u.paginationCallback(e);var n=u.children,r=function(e,t,n,r){var i=e-r*t;return i<0?n+i:n<=i?i-n:i}(N,u.slide,n.length,e),i="number"==typeof t?t-N:-1*e,o=u.infinite?P?function(e,t,n,r,i,o){var s=function(e,t,n){var r=e+t>=n.length?e+t-n.length:e+t;return r<0?n.length+r:r}(n,i,e),a=Math.floor(t.length/2),l=new d(e,s),u=Array.from(t);switch(+o){case c.Left:for(var f=0;f<a;f++){var h=a-(Math.abs(i)+f)-r;(h<0||!u[h])&&u.unshift(l.current()),l.prev()}break;case c.Right:for(f=0;f<a;f++)u[a+i+f+r]||u.push(l.current()),l.next()}return u}(n,k,r,u.show,i,e):function(e,t,n,r,i,o){var s=new d(e,n),a=Array.from(t);switch(+o){case c.Left:for(var l=i;l>=0;l--)(i-l<0||!a[l-i])&&a.unshift(s.current()),s.prev();break;case c.Right:for(l=0;l<r+i;l++)a[2*i+l]||a.push(s.current()),s.next()}return a}(n,k,r,u.show,u.slide,e):k;u.infinite&&e===c.Right&&(b(o),L.current=o),M({transform:A.transform+Math.abs(i)*h(R,u.slide,e),transition:u.transition,isSliding:!0}),I(P&&"number"==typeof t?t:r),W(g({itemCount:n.length,itemsToShow:u.show,infinite:u.infinite,current:r,hideArrows:u.hideArrows})),setTimeout((function(){if(u.infinite){var n=P?function(e,t,n){return n===c.Left?e.slice(0,t):e.slice(t)}(e===c.Right?L.current:o,function(e,t,n,r){return"number"==typeof e?r===c.Right?e-t+1:n:-1*r}(t,r,i,e),e):function(e,t,n){return n===c.Left?e.slice(0,-1*t):e.slice(t)}(e===c.Right?L.current:o,u.slide,e);b(n),L.current=n}M({transform:u.infinite?h(R,u.navigation?u.children.length-1:u.slide,c.Right):A.transform+h(R,u.slide,e),transition:0,isSliding:!1}),F()}),1e3*u.transition),j.current=!1}};return n.createElement("div",r({},u.a11y,{"data-testid":"carousel",tabIndex:0},u.useArrowKeys?{onKeyDown:function(e){37===e.keyCode?U(c.Left):39===e.keyCode&&U(c.Right)}}:{},{className:o+" "+u.className}),D.left&&n.createElement("div",{onClick:function(){U(c.Left),u.onLeftArrowClick&&u.onLeftArrowClick()}},null!==(i=u.leftArrow)&&void 0!==i?i:n.createElement(f,{direction:"left"})),n.createElement(y,r({},u,{transition:A.transition,items:L.current,transform:A.transform,slideCallback:function(e){U(e)},dragCallback:function(e){M({transform:e,transition:u.transition,isSliding:!1}),setTimeout((function(){return M(r(r({},A),{transition:0}))}),1e3*u.transition)},widthCallBack:function(e){S(e),M({transform:u.infinite?h(e,u.navigation?u.children.length-1:u.slide,c.Right):0,transition:0,isSliding:!1})}})),D.right&&n.createElement("div",{onClick:function(){U(c.Right),u.onRightArrowClick&&u.onRightArrowClick()},ref:K},null!==(s=u.rightArrow)&&void 0!==s?s:n.createElement(f,{direction:"right"})),P&&n.createElement(C,{factory:u.navigation,items:u.children,current:N,onClick:function(e){N!==e&&U(e>N?c.Right:c.Left,e)}}))},exports.ScrollingCarousel=function(e){var i=r(r({},R),e),o=i.children,s=i.className,a=i.leftIcon,l=i.rightIcon,u=i.triggerClickOn,f=t.useRef(null),d=t.useState(!1),h=d[0],g=d[1],m=t.useState({startX:0,scrollLeft:0}),v=m[0],p=m[1],w=function(){var e=f.current;return{left:!!e&&e.scrollLeft>0,right:!!e&&e.scrollWidth>e.scrollLeft+e.offsetWidth}},y=t.useState(w()),_=y[0],k=y[1],C=function(e){k(w())},S=t.useCallback((function(e){null!==e&&(Object.defineProperty(f,"current",{value:e}),k(w()),e.addEventListener("scroll",C))}),[f,o]),x=function(e){g(!1),k(w()),f.current.classList.remove(E)},A=function(e){var t=function(e){for(var t,n,r=f.current,i=e===c.Left?r.scrollLeft+r.offsetWidth:r.scrollLeft,o=0,s=0,a=Array.from(r.children);s<a.length;s++){var l=a[s],u=(t=l,n=void 0,n=getComputedStyle(t),t.offsetWidth+(parseInt(n.marginLeft,10)||0)+(parseInt(n.marginRight,10)||0));if((o+=u)>=i){var d=e===c.Left?o-i:u;return(r.offsetWidth-d)*e}}return r.offsetWidth}(e),n=f.current.scrollLeft;M(500,t,n)},M=function(e,t,n){for(var r=0,i=0;r<=e;i++)window.setTimeout(T,r,i*t/100+n),r+=e/100},T=function(e){f.current.scrollLeft=e},N=function(e,t,r){return n.createElement("div",{"data-arrow":t,onClick:function(){return A(e)}},null!=r?r:n.createElement("button",null))};return n.createElement("div",{className:b+" "+s,"data-testid":"carousel"},_.left&&a&&N(c.Right,"left",a),_.right&&l&&N(c.Left,"right",l),n.createElement("div",{"data-testid":"sliderList",ref:S,onMouseDown:function(e){g(!0),p({startX:e.pageX-f.current.offsetLeft,scrollLeft:f.current.scrollLeft})},onMouseLeave:x,onMouseUp:x,onMouseMove:function(e){if(h){e.preventDefault();var t=e.pageX-f.current.offsetLeft-v.startX;Math.abs(t)>u&&f.current.classList.add(E),f.current.scrollLeft=v.scrollLeft-t}},className:L},o))};
